name: 'Test'

runs:
  using: 'composite'
  steps:
    - name: Setup
      uses: ./.github/actions/setup

    - run: npm run build
      shell: bash

    - name: Run headless test
      uses: coactions/setup-xvfb@v1
      with:
        run: npm test
        env:
          DISPLAY: :10 # Only necessary for linux tests
