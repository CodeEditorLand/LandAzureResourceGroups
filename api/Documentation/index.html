<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta name="keywords" content="@playform/document"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@microsoft/vscode-azureresources-api</title><meta name="description" content="Documentation for @microsoft/vscode-azureresources-api"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@microsoft/vscode-azureresources-api</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@microsoft/vscode-azureresources-api</h2></div><div class="tsd-panel tsd-typography"><a id="md:vs-code-azure-resources-api" class="tsd-anchor"></a><h1 class="tsd-anchor-link">VS Code Azure Resources API<a href="#md:vs-code-azure-resources-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Provides typings and utilities for the VS Code Azure Resources API. This API is
used to integrate &quot;client&quot; Azure extensions into views provided by the
<a href="https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azureresourcegroups">Azure Resources &quot;host&quot; extension for VS Code</a>.</p>
<a id="md:overview" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Overview<a href="#md:overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Azure Resources extension for VS Code contributes the <strong>Azure resources
view</strong> and the <strong>Workspace resources view</strong>. The Azure view lets users browse
and work with supported resources in Azure. The Workspace resources view is home
to development related resources like an emulated database, or a functions
project detected in an open workspace folder.</p>
<p>In the past, each supported Azure resource had a dedicated view in the Azure
view container. In the updated design, the Azure resources and Workspace
resources views contain all resources. To facilitate this design, each Azure
<strong>product extension</strong> contributes to a single <strong>host extension</strong>.</p>
<p>The Azure Resources extension provides small generic features for all Azure
resource types. Users can then install Azure product extensions to enable rich,
product-specific features.</p>
<p>The Azure Resources extension exposes an API which enables any number of client
extensions to contribute UI and functionality to the Azure and Workspace
resources views.</p>
<a id="md:capabilities" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Capabilities<a href="#md:capabilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:tree-views" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Tree views<a href="#md:tree-views" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><img align="right" src="https://github.com/microsoft/vscode-azureresourcegroups/blob/main/api/docs/media/resource-views.png?raw=true" width="50%" />
<p>The Azure Resources extension contributes two extendable views. The Resources
view, and the Workspace view. In the Resources view, clients can customize
resource tree items, and have full control over resource tree item children.</p>
<p>For the Workspace view, clients can contribute root level tree items to the
view. Clients have full control over these tree items and their children.</p>
<br clear="right"/>
<a id="md:create-resource-command" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Create Resource command<a href="#md:create-resource-command" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><img align="right" src="https://github.com/microsoft/vscode-azureresourcegroups/blob/main/api/docs/media/create-resource.png?raw=true" width="60%" />
<br/>
<br/>
Client extensions can add items to the Azure Resources "Create Resource..." command quick pick prompt.
<br clear="right"/>
<a id="md:api-overview" class="tsd-anchor"></a><h2 class="tsd-anchor-link">API Overview<a href="#md:api-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:branch-data-provider" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Branch data provider<a href="#md:branch-data-provider" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The VS Code API provides a <code>TreeDataProvider</code> interface for controlling tree
views. In order to make the Azure trees extensible, the host extension splits
tree views into &quot;branches&quot;, where each branch is controlled by a branch data
provider. Clients can register a <code>BranchDataProvider</code> for a resource type. The
registered branch data provider is then responsible for providing the tree items
for that branch in the tree view. <code>BranchDataProvider</code> is an extension of
<a href="https://code.visualstudio.com/api/references/vscode-api#TreeDataProvider">VS Code's <code>TreeDataProvider</code></a>.</p>
<blockquote>
<p>Note: clients registering resource providers must declare that they do so in
their extension manifest. See <a href="#md:extension-manifest">Extension Manifest</a></p>
</blockquote>
<pre><code class="ts"><span class="hl-0">/**</span><br/><span class="hl-0"> * The base interface for visualizers of Azure and workspace resources.</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">interface</span><span class="hl-2"> </span><span class="hl-4">BranchDataProvider</span><span class="hl-2">&lt;</span><br/><span class="hl-2">	</span><span class="hl-4">TResource</span><span class="hl-2"> </span><span class="hl-3">extends</span><span class="hl-2"> </span><span class="hl-4">ResourceBase</span><span class="hl-2">,</span><br/><span class="hl-2">	</span><span class="hl-4">TModel</span><span class="hl-2"> </span><span class="hl-3">extends</span><span class="hl-2"> </span><span class="hl-4">ResourceModelBase</span><span class="hl-2">,</span><br/><span class="hl-2">&gt; </span><span class="hl-3">extends</span><span class="hl-2"> </span><span class="hl-4">vscode</span><span class="hl-2">.</span><span class="hl-4">TreeDataProvider</span><span class="hl-2">&lt;</span><span class="hl-4">TModel</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">	</span><span class="hl-0">/**</span><br/><span class="hl-0">	 * Get the children of `element`.</span><br/><span class="hl-0">	 *</span><br/><span class="hl-0">	 * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">element</span><span class="hl-0"> The element from which the provider gets children. Unlike a traditional tree data provider, this will never be `undefined`.</span><br/><span class="hl-0">	 *</span><br/><span class="hl-0">	 * </span><span class="hl-3">@return</span><span class="hl-0"> Children of `element`.</span><br/><span class="hl-0">	 */</span><br/><span class="hl-2">	</span><span class="hl-6">getChildren</span><span class="hl-2">(</span><span class="hl-5">element</span><span class="hl-2">: </span><span class="hl-4">TModel</span><span class="hl-2">): </span><span class="hl-4">vscode</span><span class="hl-2">.</span><span class="hl-4">ProviderResult</span><span class="hl-2">&lt;</span><span class="hl-4">TModel</span><span class="hl-2">[]&gt;;</span><br/><br/><span class="hl-2">	</span><span class="hl-0">/**</span><br/><span class="hl-0">	 * Called to get the provider&#39;s model element for a specific resource.</span><br/><span class="hl-0">	 *</span><br/><span class="hl-0">	 * </span><span class="hl-3">@remarks</span><span class="hl-0"> getChildren() assumes that the provider passes a known (TModel) model item, or undefined when getting the &quot;root&quot; children.</span><br/><span class="hl-0">	 *          However, branch data providers have no &quot;root&quot; so this function is called for each matching resource to obtain a starting branch item.</span><br/><span class="hl-0">	 *</span><br/><span class="hl-0">	 * </span><span class="hl-3">@returns</span><span class="hl-0"> The provider&#39;s model element for `resource`.</span><br/><span class="hl-0">	 */</span><br/><span class="hl-2">	</span><span class="hl-6">getResourceItem</span><span class="hl-2">(</span><span class="hl-5">element</span><span class="hl-2">: </span><span class="hl-4">TResource</span><span class="hl-2">): </span><span class="hl-4">TModel</span><span class="hl-2"> | </span><span class="hl-4">Thenable</span><span class="hl-2">&lt;</span><span class="hl-4">TModel</span><span class="hl-2">&gt;;</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:resource-provider" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Resource provider<a href="#md:resource-provider" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Clients register resource providers to add resources to a view. Currently the
API is limited to registering Workspace resource providers because a default
Azure resource provider is built into the Azure Resources extension.</p>
<blockquote>
<p>Note: clients registering resource providers must declare that they do so in
their extension manifest. See <a href="#md:extension-manifest">Extension Manifest</a></p>
</blockquote>
<pre><code class="ts"><span class="hl-0">/**</span><br/><span class="hl-0"> * The base interface for providers of Azure and workspace resources.</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">interface</span><span class="hl-2"> </span><span class="hl-4">ResourceProvider</span><span class="hl-2">&lt;</span><br/><span class="hl-2">	</span><span class="hl-4">TResourceSource</span><span class="hl-2">,</span><br/><span class="hl-2">	</span><span class="hl-4">TResource</span><span class="hl-2"> </span><span class="hl-3">extends</span><span class="hl-2"> </span><span class="hl-4">ResourceBase</span><span class="hl-2">,</span><br/><span class="hl-2">&gt; {</span><br/><span class="hl-2">	</span><span class="hl-0">/**</span><br/><span class="hl-0">	 * Fired when the provider&#39;s resources have changed.</span><br/><span class="hl-0">	 */</span><br/><span class="hl-2">	</span><span class="hl-3">readonly</span><span class="hl-2"> </span><span class="hl-5">onDidChangeResource</span><span class="hl-2">?: </span><span class="hl-4">vscode</span><span class="hl-2">.</span><span class="hl-4">Event</span><span class="hl-2">&lt;</span><span class="hl-4">TResource</span><span class="hl-2"> | </span><span class="hl-4">undefined</span><span class="hl-2">&gt;;</span><br/><br/><span class="hl-2">	</span><span class="hl-0">/**</span><br/><span class="hl-0">	 * Called to supply the resources used as the basis for the resource views.</span><br/><span class="hl-0">	 *</span><br/><span class="hl-0">	 * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">source</span><span class="hl-0"> The source from which resources should be generated.</span><br/><span class="hl-0">	 *</span><br/><span class="hl-0">	 * </span><span class="hl-3">@returns</span><span class="hl-0"> The resources to be displayed in the resource view.</span><br/><span class="hl-0">	 */</span><br/><span class="hl-2">	</span><span class="hl-6">getResources</span><span class="hl-2">(</span><span class="hl-5">source</span><span class="hl-2">: </span><span class="hl-4">TResourceSource</span><span class="hl-2">): </span><span class="hl-4">vscode</span><span class="hl-2">.</span><span class="hl-4">ProviderResult</span><span class="hl-2">&lt;</span><span class="hl-4">TResource</span><span class="hl-2">[]&gt;;</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:extension-manifest" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Extension manifest<a href="#md:extension-manifest" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Client extensions define an <code>x-azResources</code> object on inside of <code>contributes</code> in
the extension manifest <code>package.json</code> file.</p>
<p>This object informs the host extension when to activate the client extension and
what contributions the client extension makes to the shared views.</p>
<pre><code class="ts"><span class="hl-5">azure</span><span class="hl-2">?: {</span><br/><span class="hl-2">    </span><span class="hl-0">/**</span><br/><span class="hl-0">     * List of Azure resource types this extension registers a BranchDataProvider for.</span><br/><span class="hl-0">     */</span><br/><span class="hl-2">    </span><span class="hl-5">branches:</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-0">/**</span><br/><span class="hl-0">         * The resource type the BranchDataProvider is registered for.</span><br/><span class="hl-0">         */</span><br/><span class="hl-2">        </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-5">AzExtResourceType</span><br/><span class="hl-2">    }[];</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * List of Workspace resource types this extension registers a BranchDataProvider for.</span><br/><span class="hl-0"> */</span><br/><span class="hl-5">workspace</span><span class="hl-2">?: {</span><br/><span class="hl-2">    </span><span class="hl-5">branches:</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-0">/**</span><br/><span class="hl-0">         * The resource type the BranchDataProvider is registered for.</span><br/><span class="hl-0">         */</span><br/><span class="hl-2">        </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-5">string</span><span class="hl-2">;</span><br/><span class="hl-2">    }[];</span><br/><br/><span class="hl-2">    </span><span class="hl-0">/**</span><br/><span class="hl-0">     * Whether this extension registers a WorkspaceResourceProvider.</span><br/><span class="hl-0">     */</span><br/><span class="hl-2">    </span><span class="hl-5">resources</span><span class="hl-2">?: </span><span class="hl-5">boolean</span><span class="hl-2">;</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Commands to add to the &quot;Create Resource...&quot; quick pick prompt.</span><br/><span class="hl-0"> */</span><br/><span class="hl-5">commands</span><span class="hl-2">?: {</span><br/><span class="hl-2">    </span><span class="hl-5">command:</span><span class="hl-2"> </span><span class="hl-5">string</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">title</span><span class="hl-2">: </span><span class="hl-5">string</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">detail</span><span class="hl-2">: </span><span class="hl-5">string</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">type</span><span class="hl-2">?: </span><span class="hl-5">string</span><span class="hl-2">; </span><span class="hl-0">// Optional: resource type associated with the command. Used to show an icon next to the command.</span><br/><span class="hl-2">}[];</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p><a href="../src/AzExtResourceType.ts">View definition of <code>AzExtResourceType</code></a></p>
</blockquote>
<p>The contribution object from the Azure Functions extension is shown below as an
example.</p>
<p>This extension declares that it registers a BranchDataProvider for the
<code>FunctionApp</code> resource type in the Azure resources view, and a
BranchDataProvider for the <code>func</code> resource type in the Workspace resources view.
It also registers a WorkspaceResourceProvider. Finally, it contributes a command
to the &quot;Create Resource...&quot; quick pick prompt for creating a Function App.</p>
<pre><code class="jsonc"><span class="hl-2">{</span><br/><span class="hl-2">	</span><span class="hl-7">&quot;contributes&quot;</span><span class="hl-2">: {</span><br/><span class="hl-2">		</span><span class="hl-7">&quot;x-azResources&quot;</span><span class="hl-2">: {</span><br/><span class="hl-2">			</span><span class="hl-7">&quot;azure&quot;</span><span class="hl-2">: {</span><br/><span class="hl-2">				</span><span class="hl-7">&quot;branches&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">					</span><span class="hl-0">// extension registers a BranchDataProvider for Function Apps</span><br/><span class="hl-2">					{</span><br/><span class="hl-2">						</span><span class="hl-7">&quot;type&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;FunctionApp&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">					},</span><br/><span class="hl-2">				],</span><br/><span class="hl-2">			},</span><br/><span class="hl-2">			</span><span class="hl-7">&quot;workspace&quot;</span><span class="hl-2">: {</span><br/><span class="hl-2">				</span><span class="hl-7">&quot;branches&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">					</span><span class="hl-0">// extension registers a BranchDataProvider for workspace resources of type &quot;func&quot;</span><br/><span class="hl-2">					{</span><br/><span class="hl-2">						</span><span class="hl-7">&quot;type&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;func&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">					},</span><br/><span class="hl-2">				],</span><br/><span class="hl-2">				</span><span class="hl-0">// extension registers a WorkspaceResourceProvider</span><br/><span class="hl-2">				</span><span class="hl-7">&quot;resources&quot;</span><span class="hl-2">: </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">			},</span><br/><span class="hl-2">			</span><span class="hl-7">&quot;commands&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">				</span><span class="hl-0">// extension contributes a command to the &quot;Create Resource...&quot; quick pick prompt</span><br/><span class="hl-2">				{</span><br/><span class="hl-2">					</span><span class="hl-7">&quot;command&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;azureFunctions.createFunctionApp&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">					</span><span class="hl-7">&quot;title&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;%azureFunctions.createFunctionApp%&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">					</span><span class="hl-7">&quot;detail&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;%azureFunctions.createFunctionAppDetail%&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">				},</span><br/><span class="hl-2">			],</span><br/><span class="hl-2">		},</span><br/><span class="hl-2">		</span><span class="hl-0">// other extension contributions</span><br/><span class="hl-2">	},</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<details>
<summary>Example without comments (good for copying 😄)</summary>
<pre><code class="json"><span class="hl-8">&quot;x-azResources&quot;</span><span class="hl-2">: {</span><br/><span class="hl-2">    </span><span class="hl-7">&quot;azure&quot;</span><span class="hl-2">: {</span><br/><span class="hl-2">        </span><span class="hl-7">&quot;branches&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">            {</span><br/><span class="hl-2">                </span><span class="hl-7">&quot;type&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;FunctionApp&quot;</span><br/><span class="hl-2">            }</span><br/><span class="hl-2">        ]</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-7">&quot;workspace&quot;</span><span class="hl-2">: {</span><br/><span class="hl-2">        </span><span class="hl-7">&quot;branches&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">            {</span><br/><span class="hl-2">                </span><span class="hl-7">&quot;type&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;func&quot;</span><br/><span class="hl-2">            }</span><br/><span class="hl-2">        ],</span><br/><span class="hl-2">        </span><span class="hl-7">&quot;resources&quot;</span><span class="hl-2">: </span><span class="hl-3">true</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-7">&quot;commands&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;command&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;azureFunctions.createFunctionApp&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;title&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;%azureFunctions.createFunctionApp%&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;detail&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;%azureFunctions.createFunctionAppDetail%&quot;</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    ]</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

</details>
</blockquote>
<a id="md:getting-started" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Getting started<a href="#md:getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>On activation, client extensions can fetch an instance of the Azure Resources
API using the <code>getAzureResourcesExtensionApi</code> utility provided by the
<a href="https://www.npmjs.com/package/@microsoft/vscode-azureresources-api"><code>@microsoft/vscode-azureresources-api</code></a>
package.</p>
<pre><code class="ts"><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-5">getAzureResourcesExtensionApi</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-8">&quot;@microsoft/vscode-azureresources-api&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">async</span><span class="hl-2"> </span><span class="hl-3">function</span><span class="hl-2"> </span><span class="hl-6">activate</span><span class="hl-2">(</span><br/><span class="hl-2">	</span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-4">vscode</span><span class="hl-2">.</span><span class="hl-4">ExtensionContext</span><span class="hl-2">,</span><br/><span class="hl-2">): </span><span class="hl-4">Promise</span><span class="hl-2">&lt;</span><span class="hl-4">void</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">	</span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">azureResourcesApi</span><span class="hl-2"> = </span><span class="hl-1">await</span><span class="hl-2"> </span><span class="hl-6">getAzureResourcesExtensionApi</span><span class="hl-2">(</span><br/><span class="hl-2">		</span><span class="hl-5">context</span><span class="hl-2">,</span><br/><span class="hl-2">		</span><span class="hl-8">&quot;2.0.0&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">	);</span><br/><span class="hl-2">	</span><span class="hl-0">// ...register providers</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<!-- ## Contribute to the Azure resources view

todo

## Contribute to the Workspace resources view

- register workspace resource provider for `type`
- register workspace resource branch data provider for `type` -->
<a id="md:contributing-to-the-workspace-resources-view" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Contributing to the Workspace resources view<a href="#md:contributing-to-the-workspace-resources-view" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:viewtitle-commands" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>view/title</code> commands<a href="#md:viewtitle-commands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Client extensions are encouraged to make commands accessible via the workspace
<code>view/title</code> menu. Commands should be grouped by extension into submenus.
Submenu icons and titles should be the same as the client extension's icon and
title. This is to prevent the <code>view/title</code> menu from becoming too cluttered.</p>
<p><img src="media/workspace-submenus.png" alt="Group workspace view/title commands into submenus"></p>
<p>Here's an example of how the Azure Functions extension contributes commands to
the workspace <code>view/title</code> menu. See
<a href="https://github.com/microsoft/vscode-azurefunctions/blob/main/package.json">the Azure Functions package.json</a>
for reference.</p>
<pre><code class="jsonc"><span class="hl-8">&quot;submenus&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">    </span><span class="hl-0">// define the submenu</span><br/><span class="hl-2">    {</span><br/><span class="hl-2">        </span><span class="hl-7">&quot;id&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;azureFunctions.submenus.workspaceActions&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-7">&quot;icon&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;resources/azure-functions.png&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-7">&quot;label&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;Azure Functions&quot;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">],</span><br/><span class="hl-8">&quot;menus&quot;</span><span class="hl-2">: {</span><br/><span class="hl-2">    </span><span class="hl-0">// add commands to the submenu</span><br/><span class="hl-2">    </span><span class="hl-7">&quot;azureFunctions.submenus.workspaceActions&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;command&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;azureFunctions.createFunction&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;group&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;1_projects@1&quot;</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;command&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;azureFunctions.createNewProject&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;group&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;1_projects@2&quot;</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;command&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;azureFunctions.deploy&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;group&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;2_deploy@1&quot;</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;command&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;azureFunctions.createFunctionApp&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;group&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;3_create@1&quot;</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;command&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;azureFunctions.createFunctionAppAdvanced&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;group&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;3_create@2&quot;</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    ],</span><br/><span class="hl-2">    </span><span class="hl-0">// add the submenu to the workspace view/title menu</span><br/><span class="hl-2">    </span><span class="hl-7">&quot;view/title&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">        {</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;submenu&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;azureFunctions.submenus.workspaceActions&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;when&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;view == azureWorkspace&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-7">&quot;group&quot;</span><span class="hl-2">: </span><span class="hl-8">&quot;navigation@1&quot;</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    ],</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:extension-dependencies" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Extension dependencies<a href="#md:extension-dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><img align="right" src="https://github.com/microsoft/vscode-azureresourcegroups/blob/main/api/docs/media/extension-dependency-graphic.png?raw=true" alt="Extension dependency graphic" width="50%" />
<p>Client extensions must declare the Azure Resources extension as an extension
dependency in their extension manifest <code>package.json</code> file.</p>
<pre><code class="json"><span class="hl-8">&quot;extensionDependencies&quot;</span><span class="hl-2">: [</span><br/><span class="hl-2">    </span><span class="hl-8">&quot;ms-azuretools.vscode-azureresources&quot;</span><br/><span class="hl-2">]</span>
</code><button type="button">Copy</button></pre>

<br clear="right"/>
<a id="md:example-extensions" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example extensions<a href="#md:example-extensions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The following extensions are integrated with the Azure Resources API v2. They
are great examples of how to use the API.</p>
<ul>
<li><a href="https://github.com/Azure/azure-dev/tree/main/ext/vscode">Azure Dev CLI</a></li>
<li><a href="https://github.com/microsoft/vscode-azurecontainerapps">Azure Container Apps</a></li>
</ul>
<a id="md:api-reference" class="tsd-anchor"></a><h2 class="tsd-anchor-link">API Reference<a href="#md:api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>See
<a href="https://github.com/microsoft/vscode-azureresourcegroups/blob/main/api/docs/vscode-azureresources-api.d.ts">vscode-azureresources-api.d.ts</a>
for the full API definition.</p>
<a id="md:terms" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Terms<a href="#md:terms" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Host extension</strong>: Azure Resources extension which exposes the Azure
Resources API</li>
<li><strong>Host API</strong>: Azure Resources API exposed by the host extension</li>
<li><strong>Client extension</strong>: Extension which consumes the Azure Resources API</li>
<li><strong>Azure resources view</strong>: Unified view of Azure resources contributed owned
by the Azure Resources extension</li>
<li><strong>Workspace resources view</strong>: Unified view of workspace resources
contributed by client extensions</li>
<li><strong>Azure resource</strong>: A resource that can be represented in the Azure
resources view.</li>
<li><strong>Workspace resource</strong>: Any resource that is located on the local machine,
or in the opened workspace.</li>
</ul>
<!-- ## Document todo list

big todo:
* Add overall architecture section
* FAQ
* Add a section on how to contribute to the Azure resources view
* Add a section on how to contribute to the Workspace resources view

small todo:
* Don't forget to add the Azure Resources extension as a dependency in your extension's package.json
* how to pick a tree item
* add a create resource command
* portalUrl and viewProperties features
* Adding a product icon and display name

Utils

- Add value to the `AzExtResourceType` enum in utils
- Update `AzExtResourceType` type in index.d.ts
- Modify `getAzExtResourceType` to return the new `AzExtResourceType` accurately

Azure Resources

- Add icon in `resources/azureIcons` folder. File name should follow `[AzExtResourceType].svg`
- Add display info in src/utils/azureUtils.ts
- Add extension to src/azureExtensions.ts

 --></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:vs-code-azure-resources-api"><span>VS <wbr/>Code <wbr/>Azure <wbr/>Resources API</span></a><ul><li><a href="#md:overview"><span>Overview</span></a></li><li><a href="#md:capabilities"><span>Capabilities</span></a></li><li><ul><li><a href="#md:tree-views"><span>Tree views</span></a></li><li><a href="#md:create-resource-command"><span>Create <wbr/>Resource command</span></a></li></ul></li><li><a href="#md:api-overview"><span>API <wbr/>Overview</span></a></li><li><ul><li><a href="#md:branch-data-provider"><span>Branch data provider</span></a></li><li><a href="#md:resource-provider"><span>Resource provider</span></a></li></ul></li><li><a href="#md:extension-manifest"><span>Extension manifest</span></a></li><li><a href="#md:getting-started"><span>Getting started</span></a></li><li><a href="#md:contributing-to-the-workspace-resources-view"><span>Contributing to the <wbr/>Workspace resources view</span></a></li><li><ul><li><a href="#md:viewtitle-commands"><span>view/title commands</span></a></li></ul></li><li><a href="#md:extension-dependencies"><span>Extension dependencies</span></a></li><li><a href="#md:example-extensions"><span>Example extensions</span></a></li><li><a href="#md:api-reference"><span>API <wbr/>Reference</span></a></li><li><a href="#md:terms"><span>Terms</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@microsoft/vscode-azureresources-api</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
